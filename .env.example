# Azure Functions Configuration
AzureWebJobsStorage=UseDevelopmentStorage=true
FUNCTIONS_WORKER_RUNTIME=node

# Azure Cosmos DB Configuration
COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
COSMOS_KEY=your_cosmos_key_here
COSMOS_DATABASE=eshf-forum
COSMOS_CONTAINER=posts

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=text-embedding-3-large

# Pinecone Configuration
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_HOST=https://your-index.svc.region.pinecone.io
PINECONE_INDEX=eshf

# Processing Configuration
BATCH_SIZE=10

# Chat API Configuration
CHAT_PASSWORD=your_chat_password_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Jina AI Reranker Configuration
# Enable/disable reranking (set to 'false' to disable)
RERANKER_ENABLED=true

# Jina AI API Key (get from https://jina.ai/)
JINA_API_KEY=your_jina_api_key_here

# Reranker model to use (default: jina-reranker-v2-base-multilingual)
# Options: jina-reranker-v2-base-multilingual, jina-reranker-v1-base-en, jina-colbert-v2
JINA_RERANKER_MODEL=jina-reranker-v2-base-multilingual

# Minimum relevance score threshold (0-1, default: 0.3)
# Chunks below this score are filtered out
RERANKER_MIN_SCORE=0.3

# Adaptive top-k: minimum number of chunks to keep (default: 3)
RERANKER_ADAPTIVE_TOPK_MIN=3

# Adaptive top-k: maximum number of chunks to keep (default: 15)
RERANKER_ADAPTIVE_TOPK_MAX=15

# Score gap threshold for adaptive top-k (default: 0.1)
# If score difference between consecutive chunks exceeds this, cut at that point
RERANKER_SCORE_GAP_THRESHOLD=0.1

# API timeout in milliseconds (default: 5000)
RERANKER_TIMEOUT_MS=5000

# Maximum number of retries for API failures (default: 2)
RERANKER_MAX_RETRIES=2
